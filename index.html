<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
	<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

	<!-- <script type="text/javascript" src="https://connect.facebook.net/en_US/fbinstant.6.2.js"></script> -->

	<!-- Don't use this in production: -->
	<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js" crossorigin></script>
	<script type="text/javascript" src="fbinstant.6.0.mock.js"></script>

	<style media="screen">
		body { background-color: #000; color: #fff; text-align: center; }
		.table{ display: table; }
		.row{ display: table-row; }
		.cell{
			display: table-cell;
			border: 1px solid #FFF;
			width: 50px;
			height: 50px;
		}
	</style>
</head>
<body>
	<div class=""><p>Value 1: <span class="value1"></span></p></div>
	<div class=""><p>Value 2: <span class="value2"></span></p></div>
	<div id="game"></div>
	<button class="button1" type="button" name="button">Remove Value 1</button>
	<!-- <button class="button2" type="button" name="button">Remove Value 2</button> -->
	<script type="text/babel">
	class Board extends React.Component {
		renderCells(cell){
			const cells = cell.map((unit, id) => <div key={id} onClick={()=>alert('click')} className="cell">x</div>);
			return cells;

		}
		renderRows(table) {
			const rows = table.map((cell, id) =><div key={id} className="row">{this.renderCells(cell)}</div>);
			return rows;
		}
		render() {
			const table = [
				[0,0,0],
				[0,0,0],
				[0,0,0]
			];
			return (
			<div className="table">
				{this.renderRows(table)}
			</div>
			)
		}
	}
	class Game extends React.Component {
		render() {
			return (
				<div className="table"><Board /></div>
				)
		}
	}
	ReactDOM.render(
		<Game />,
		document.getElementById('game')
	);
	</script>
	<script type="text/javascript">
	window.onload = function() {
		function oPawn(hp, atk) {
			this.hp  = hp;
			this.atk = atk;
			this.hit = function(target){
					target.hp -= this.atk;
			}
		};
		function atking(agg, def){
			agg.hit(def);
		}

		var turn = Math.round(Math.random() * 1) + 1;

		console.log(turn);

		var pawn1 = new oPawn(10, 2);
		var pawn2 = new oPawn(20, 1);

		function ftn1(evt){
			if(turn == 1){
				turn = 2;
				atking(pawn1, pawn2);
				document.querySelector(".value2").innerHTML = pawn2.hp;
			}else{
				turn = 1;
				atking(pawn2, pawn1);
				document.querySelector(".value1").innerHTML = pawn1.hp;
			}
		};

		function startGame() {
				document.querySelector(".value1").innerHTML = pawn1.hp;
				document.querySelector(".value2").innerHTML = pawn2.hp;
				document.querySelector(".button1").addEventListener("click", ftn1, false);
				// document.querySelector(".button2").addEventListener("click", ftn1, false);

				//document.getElementById('teste1').innerHTML = "oi";
		};

		FBInstant.initializeAsync().then(function() {
			FBInstant.startGameAsync().then(function() {
				startGame();
			});
		});
	};
	</script>
</body>
</html>
